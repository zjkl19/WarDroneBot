{
  // 你的设备分辨率（示例：小米14）
  screen: { width: 2670, height: 1200 },

  // ===== 统一 ROI 库（相对坐标 0~1：中心 x/y + 宽高）=====
  // 用 interactive_crop.py 框出来后把数值贴到这里。
  rois: {
    splash_logo:   [0.50, 0.80, 0.60, 0.22],  // 覆盖 "WAR DRONE" 大字区域（示例占位）
    pre_start_btn: [0.88, 0.88, 0.20, 0.12],  // 战前页“开始”（示例占位）
    list_start:    [0.82, 0.87, 0.22, 0.12],  // 关卡列表页“开始”（示例占位）
    collect_btn:   [0.18, 0.86, 0.24, 0.12],  // 结算页“收集/领取”（示例占位）

    // 战斗页
    goal_text:     [0.82, 0.79, 0.08, 0.06],  // 右下“目标：xx%”一带（建议你用交互脚本再圈）
    hp_bar:        [0.50, 0.07, 0.40, 0.10],  // 顶部心形+绿色血条（建议你再圈）

    // 升级页
    upgrade_menu:  [0.075, 0.64, 0.11, 0.22],  // 左栏“武器”高亮按钮区域（你已给大概点）
  },

  // ===== 模板（可选，作辅助）=====
  // 朴素模板匹配：method = "ncc"（OpenCV 归一化互相关），thresh 建议 0.60~0.80。
  templates: [
    { name: "combat_goal", path: "templates/combat_goal.png", roi: "goal_text", method: "ncc", thresh: 0.65 },
    { name: "combat_hp",   path: "templates/combat_hp.png",   roi: "hp_bar",   method: "ncc", thresh: 0.65 },
    { name: "menu_weapons_glow", path: "templates/menu_weapons_glow.png", roi: "upgrade_menu", method: "ncc", thresh: 0.70 }
  ],

  // ===== 状态定义（OCR 为主，模板为辅）=====
  // 规则会按顺序评估（命中即可判定该状态）。
  states: [
    {// 可无模板；如需更稳，可切个 "WAR DRONE" 字样模板当辅证
      name: "splash",
      rois: ["splash_logo"],
      ocr: [
        { roi: "splash_logo", lang: "en", contains: ["WAR", "DRONE"] }
      ]
      
    },

    {
      name: "prebattle",
      rois: ["pre_start_btn"],
      ocr: [
        { roi: "pre_start_btn", lang: "ch", contains: ["开始"] }
      ]
    },

    {
      name: "list",
      rois: ["list_start"],
      ocr: [
        { roi: "list_start", lang: "ch", contains: ["开始"] }
      ]
    },

    {
      // 战斗页的关键特征：右下 “目标：xx%”（中文/全角冒号都可能）或顶部心形+百分比
      name: "combat",
      rois: ["goal_text", "hp_bar"],
      ocr: [
        { roi: "goal_text", lang: "ch", regex: "目\\s*标[：: ]\\s*\\d+%"},
        { roi: "hp_bar",    lang: "en", regex: "\\d{1,3}%"}  // 顶部百分比（英文数字）
      ],
      aux_templates: [
        { template: "combat_goal", min_score: 0.65 },
        { template: "combat_hp",   min_score: 0.65 }
      ]
    },

    {
      // 结算页（默认有广告位版本/无广告位版本都先用“收集/领取”统一识别）
      name: "settlement",
      rois: ["collect_btn"],
      ocr: [
        { roi: "collect_btn", lang: "ch", contains: ["收集", "领取"] }
      ]
    },

    {
      // 结算页（无广告版本）：先按 settlement 识别，再用“没有广告关键词”作加分（可选）
      name: "settlement_noads",
      rois: ["collect_btn"],
      ocr: [
        { roi: "collect_btn", lang: "ch", contains: ["收集", "领取"] }
      ]
      
    },// 如需和 settlement 区分，你可以额外圈广告角标 ROI，用 contains:["广告"] 的否定逻辑在引擎里实现

    {
      // 升级页：左栏“武器”按钮高亮 + 文案“武器”
      name: "upgrade",
      rois: ["upgrade_menu"],
      ocr: [
        { roi: "upgrade_menu", lang: "ch", contains: ["武器"] }
      ],
      aux_templates: [
        { template: "menu_weapons_glow", min_score: 0.70 }
      ]
    }
  ]
}
